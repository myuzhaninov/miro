<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <script src="https://miro.com/app/static/sdk.1.1.js"></script>
    <script type="text/javascript"
      const icon = `<svg width="24" height="24" viewBox="0 0 24 24" fill="transparent" xmlns="http://www.w3.org/2000/svg">
      <path d="M19.4555 14.5467C19.2463 14.3375 18.9625 14.2199 18.6667 14.2199C18.3708 14.2199 18.087 14.3375 17.8778 14.5467C17.6685 14.7559 17.551 15.0397 17.551 15.3356C17.551 15.6315 17.6685 15.9153 17.8778 16.1245L18.2 16.4467H16.4444C15.2657 16.4467 14.1352 15.9785 13.3017 15.145C12.4682 14.3115 12 13.181 12 12.0023C12 10.8235 12.4682 9.69306 13.3017 8.85957C14.1352 8.02608 15.2657 7.55782 16.4444 7.55782H18.2111L17.8778 7.88005C17.7736 7.98334 17.691 8.10623 17.6345 8.24163C17.5781 8.37703 17.5491 8.52225 17.5491 8.66893C17.5491 8.81561 17.5781 8.96084 17.6345 9.09624C17.691 9.23164 17.7736 9.35453 17.8778 9.45782C17.9816 9.5608 18.1047 9.64227 18.2401 9.69757C18.3755 9.75286 18.5204 9.78089 18.6667 9.78004C18.8129 9.78089 18.9578 9.75286 19.0932 9.69757C19.2286 9.64227 19.3517 9.5608 19.4555 9.45782L21.6778 7.2356C21.7807 7.13178 21.8622 7.00865 21.9175 6.87328C21.9728 6.7379 22.0008 6.59294 22 6.44671C22.0008 6.30048 21.9728 6.15553 21.9175 6.02015C21.8622 5.88478 21.7807 5.76165 21.6778 5.65783L19.4555 3.43561C19.3519 3.33201 19.229 3.24983 19.0936 3.19376C18.9582 3.13769 18.8132 3.10884 18.6667 3.10884C18.3708 3.10884 18.087 3.22638 17.8778 3.43561C17.6685 3.64483 17.551 3.9286 17.551 4.22449C17.551 4.52038 17.6685 4.80416 17.8778 5.01338L18.2 5.3356H16.4444C15.3436 5.33641 14.2602 5.60979 13.2907 6.13133C12.3213 6.65287 11.4962 7.40635 10.8889 8.32449C10.2816 7.40635 9.45643 6.65287 8.48701 6.13133C7.5176 5.60979 6.43413 5.33641 5.33333 5.3356H3.11111C2.81643 5.3356 2.53381 5.45267 2.32544 5.66104C2.11706 5.86941 2 6.15203 2 6.44671C2 6.7414 2.11706 7.02401 2.32544 7.23239C2.53381 7.44076 2.81643 7.55782 3.11111 7.55782H5.33333C6.51207 7.55782 7.64253 8.02608 8.47602 8.85957C9.30952 9.69306 9.77777 10.8235 9.77777 12.0023C9.77777 13.181 9.30952 14.3115 8.47602 15.145C7.64253 15.9785 6.51207 16.4467 5.33333 16.4467H3.11111C2.81643 16.4467 2.53381 16.5638 2.32544 16.7721C2.11706 16.9805 2 17.2631 2 17.5578C2 17.8525 2.11706 18.1351 2.32544 18.3435C2.53381 18.5519 2.81643 18.6689 3.11111 18.6689H5.33333C6.43413 18.6681 7.5176 18.3947 8.48701 17.8732C9.45643 17.3517 10.2816 16.5982 10.8889 15.68C11.4962 16.5982 12.3213 17.3517 13.2907 17.8732C14.2602 18.3947 15.3436 18.6681 16.4444 18.6689H18.2111L17.8778 18.9911C17.7736 19.0944 17.691 19.2173 17.6345 19.3527C17.5781 19.4881 17.5491 19.6334 17.5491 19.78C17.5491 19.9267 17.5781 20.0719 17.6345 20.2073C17.691 20.3427 17.7736 20.4656 17.8778 20.5689C17.9816 20.6719 18.1047 20.7534 18.2401 20.8087C18.3755 20.864 18.5204 20.892 18.6667 20.8911C18.8129 20.892 18.9578 20.864 19.0932 20.8087C19.2286 20.7534 19.3517 20.6719 19.4555 20.5689L21.6778 18.3467C21.7807 18.2429 21.8622 18.1198 21.9175 17.9844C21.9728 17.849 22.0008 17.704 22 17.5578C22.0008 17.4116 21.9728 17.2666 21.9175 17.1313C21.8622 16.9959 21.7807 16.8727 21.6778 16.7689L19.4555 14.5467Z" fill="currentColor"/>
      </svg>`;

      // Ожидаем готовности Miro SDK
      miro.onReady(async () => {
        miro.initialize({
          extensionPoints: {
            bottomBar: {
              title: "Случайное распределение",
              svgIcon: icon,
              onClick: async () => {
                const isAuthorized = await miro.isAuthorized();

                if (!isAuthorized) {
                  await miro.requestAuthorization();
                }

                // Открываем сайдбар
                await miro.board.ui.openLeftSidebar("sidebar.html");
              },
            },
          },
        });
      });
    </script>
  </head>
</html>
